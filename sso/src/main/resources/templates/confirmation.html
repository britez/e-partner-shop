<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>E-Partner Shop | Login</title>

    <!-- Vendor CSS -->
    <link href="css/animate.min.css" rel="stylesheet" />
    <link href="css/material-design-iconic-font.min.css" rel="stylesheet" />

    <!-- CSS -->
    <link href="css/app.min.1.css" rel="stylesheet" />
    <link href="css/app.min.2.css" rel="stylesheet" />
</head>

<body class="login-content">
    <!-- Login -->
    <div class="lc-block toggled">
    <p class="input-group m-b-20">Su cuenta ha sido confirmada</p>
    </div>

    <!-- Javascript Libraries -->
    <script src="js/jquery.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
    <script src="js/waves.min.js"></script>
    <script src="js/functions.js"></script>
    <script style="type/javascript">
        $(document).ready(function(){
            //Form validation
            $('.input-group input').bind('focusout', required);
            $('.input-group input').bind('input', required);
            $('#l-login').on('submit', submit);
        });

        function required(event){
            validate($(this));
        }



        function validate(elem){
            var div = elem.closest('.input-group');
            if(elem.val() === ''){
                div.addClass('has-error');
            } else {
                div.removeClass('has-error');
            }

            var errors = $('.input-group.has-error');
            var cred = $('#credentials');
            if (errors.length > 0) {
                cred.removeClass('hide');
            } else {
                cred.addClass('hide');
            }

            return elem.val();
        }

        function submit(event){
           var username = validate($('input[name=username]'));
           var phone = validate($('input[name=phone]'));
           var email = validate($('input[name=email]'));
           var address =  validate($('input[name=address]'));
           var password =  validate($('input[name=password]'));



            var errors = $('.input-group.has-error');
            if (errors.length > 0) {
                event.preventDefault();
            }else{
                var data = {
                    'username': username,
                    'phone': phone,
                    'email': email,
                    'address': address,
                    'password': password
                };

                $.ajax({
                    url: 'http://localhost:18080/api/user',
                    type: 'POST',
                    data: JSON.stringify(data),
                    contentType: "application/json; charset=utf-8",
                    dataType: "json",
                    success: function (response) {

                    }
                });
            }
        }




    </script>

</body>
</html>